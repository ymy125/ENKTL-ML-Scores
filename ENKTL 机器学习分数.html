<!DOCTYPE html>
<!-- saved from url=(0059)https://highcloud.shinyapps.io/ENKTL_ML_Score_Introduction/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<base href="_w_30ec943d/">--><base href=".">
    <script type="text/javascript">
(function() {
  var workerId = '_w_30ec943d';
  // remove base href if worker ID is in url
  if (window.location.href.indexOf(workerId) > 0) {
    document.querySelector('base').removeAttribute('href');
  }
})();
</script>

      <script type="text/javascript">
      var __connect = {
        shinyPre101: false
      }
      </script>
      
  
  <script type="application/shiny-singletons"></script>
  <script type="application/html-dependencies">jquery[3.6.0];shiny-css[1.7.5.1];shiny-javascript[1.7.5.1];bootstrap[3.4.1]</script>
<script src="./ENKTL 机器学习分数_files/jquery.min.js.下载"></script>
<link href="./ENKTL 机器学习分数_files/shiny.min.css" rel="stylesheet">
<script src="./ENKTL 机器学习分数_files/shiny.min.js.下载"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="./ENKTL 机器学习分数_files/bootstrap.min.css" rel="stylesheet">
<link href="./ENKTL 机器学习分数_files/bootstrap-accessibility.min.css" rel="stylesheet">
<script src="./ENKTL 机器学习分数_files/bootstrap.min.js.下载"></script>
<script src="./ENKTL 机器学习分数_files/bootstrap-accessibility.min.js.下载"></script>  <title _msttexthash="26183118" _msthash="0">ENKTL 机器学习分数</title>
<script src="./ENKTL 机器学习分数_files/sockjs.min.js.下载"></script>
<script src="./ENKTL 机器学习分数_files/shiny-server-client.min.js.下载"></script>
<script>preShinyInit({reconnect:true,reconnectTimeout:15000,disableProtocols:["htmlfile","xdr-streaming","xdr-polling","websocket"],token:true,workerId:true,subappTag:true,extendSession:true,fixupInternalLinks:true});</script>
<link rel="stylesheet" type="text/css" href="./ENKTL 机器学习分数_files/rstudio-connect.css">
<link rel="stylesheet" type="text/css" href="./ENKTL 机器学习分数_files/shinyapps.css"></head>
<body class="">
<script type="text/javascript" src="./ENKTL 机器学习分数_files/iframeResizer.contentWindow.min.js.下载"></script>
<script type="text/javascript" src="./ENKTL 机器学习分数_files/shinyapps.frame.content.js.下载"></script>
<script type="text/javascript" src="./ENKTL 机器学习分数_files/shinyapps.js.下载"></script>
  <div class="container-fluid">
    <h2 _msttexthash="26183118" _msthash="1">ENKTL 机器学习分数</h2>
    <div class="row">
      <div class="col-sm-12">
        <h4 _msttexthash="712258885" _msthash="2">李硕， 高丽敏， 钟玉佳， 郑寅丽， 吴丽艳， 曾玄凯， 冯燕芬， 张英春， 臧胜兵， 李艳， 洪黄明， 云静平， 华玉</h4>
      </div>
      <div class="col-sm-12">
        <h4 _msttexthash="72449" _msthash="3">2024-02-20</h4>
        <p _msttexthash="119842255" _msthash="4">要访问在线计算器，请转到 <a href="https://highcloud.shinyapps.io/ENKTL_ML_Scores/" _istranslated="1">ENKTL 机器学习分数</a>。</p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <p _msttexthash="760279208" _msthash="5">如果您更喜欢离线使用，您可以从 <a href="https://github.com/ymy125/ENKTL-ML-Scores" _istranslated="1">https://github.com/ymy125/ENKTL-ML-Scores</a> 下载所有必要的文件。
 只需单击“代码”，然后选择“下载ZIP”。</p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <img src="./ENKTL 机器学习分数_files/2.jpg" width="500px">
        <p _msttexthash="1292173961" _msthash="6">下载文件后，您可以将它们放在本地计算机上的同一目录中。如果已安装 R，则可以在此处执行以下 R 代码。或者，您可以选择将整个存储库分叉到您的 GitHub 帐户。R 代码已在 R 版本 4.3.0 中成功测试。</p>
        <h2 _msttexthash="12850890" _msthash="7">必需的 R 包</h2>
        <ul>
          <li _msttexthash="76613134" _msthash="8">插入符号 （v6.0-94） 及其依赖项</li>
          <li _msttexthash="26441415" _msthash="9">GBM （v1.2.8.1.1）</li>
        </ul>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="code-block">
          <pre>            <code>
# Uncomment and install R packages 'caret' (v6.0-94) and 'gbm' (v2.8.1.1) for first time usage
# devtools::install_version('caret', version = '6.0-92', repos = 'http://cran.us.r-project.org')
# devtools::install_version('gbm', version = '2.8.1.1', repos = 'http://cran.us.r-project.org')
            </code>
          </pre>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <h2 _msttexthash="26183118" _msthash="10">ENKTL 机器学习分数</h2>
        <p _msttexthash="160414371" _msthash="11">以下代码片段提供了单个患者的 ENKTL 机器学习分数的计算。</p>
        <div class="code-block">
          <pre>            <code>
# Input the clinical data of a single patient as follows
#Gender
Gender = Female
#Age (years)
Age = 41
#ECOG performance status
ECOG performance status = 0
#B symptoms
B symptoms = 0
#Ann Arbor staging
Ann Arbor staging = 1
#Primary tumor invasion (PTI)
Primary tumor invasion (PTI) = 0
#Primary site
Primary site = 0
#Regional lymph node involvement
Regional lymph node involvement = 0
#Extranodal sites
Extranodal sites= 00
#Distant lymph node involvement
Distant lymph node involvement = 0
#Ki67 proliferative index
Ki67 proliferative index = 0
#EBV-DNA copy number (copies/ml)
EBV-DNA copy number  =30
#LDH (U/L)
LDH = 197.6
# Form a data frame
pt1 = data.frame(
  'Gender'=Gender, 'Age'=Age, 'ECOG'=ECOG, 
  'Bsymptoms'=Bsymptoms, 'Arbor'=Arbor, 'PTI'=PTI, 
  'UADT'=UADT, 'RegionalLN'=RegionalLN, 'Extranodal'=Extranodal,
  'DistantLN'=DistantLN, 'EBV_DNA'=EBV_DNA, 'Ki67'=Ki67, 'LDH'=LDH)
  
# Load necessary R package
library(caret)</code>
          </pre>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="code-block">
          <pre>            <code>
## Loading required package: ggplot2
            </code>
          </pre>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="code-block">
          <pre>            <code>
## Loading required package: lattice
            </code>
          </pre>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="code-block">
          <pre>            <code>
# Calculate ENKTL Machine Learning Score
gbm = readRDS('gbm_model.rds')
score = round(predict(gbm, pt1, type='fit')$yes, 3)

paste('The ENKTL Machine Learning Score is', score)
            </code>
          </pre>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="code-block">
          <pre>            <code>
## [1] 'ENKTL Machine Learning Score is -1.612'</code>
          </pre>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <p _msttexthash="162880133" _msthash="12">以下代码片段提供了一组患者的 ENKTL 机器学习分数的计算。</p>
        <div class="code-block">
          <pre>            <code>
# Remark: The data set should contain 9 necessary columns:
# Age, Gender, Etiology, HT, ALT, ALP, PLT, Cr, LSM
# Please refer to above on the units and the coding of the categories

# Read in the cohort of patients in csv format
pts &lt;- read.csv('SYSU_10_08_lgl_coxboost with SCORE.csv')

# Load necessary R package
library(caret)

# Calculate the SMART HCC scores
gbm = readRDS('gbm_model.rds')
scores = round(gbm$fit, 3)

head(cbind(pts, scores), 6)
                 </code>
          </pre>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <p _msttexthash="6868498" _msthash="13">The following code snippet provides the calculation for the ENKTL Machine Learning Score of a group of patients.</p>
        <div class="code-block">
          <pre>            <code>
	sex	Age	ECOG	Bsymptoms Arbor	PTI	UADT	RegionalLN	Extranodal	DistantLN	EBV_DNA	 Ki67	LDH	      scores
1	1	 41	 0	      0	    1	 0	 0	      0	          0	          0	          0	   30	 197.6	      -1.612
2	1	 36	 0	      0	    1	 0	 0	      0	          0	          0	          0	   50	 229.7	      -1.634
3	1	 58	 1	      0	    1	 0	 0	      0	          0	          0	          0	   30	 167	      -1.494
4	0	 64	 1	      0	    2	 1	 0	      0	          0	          0	          0	   70	 256.9        -1.324
5	1	 36	 0	      0	    1	 0	 0	      0	          0	          0	          75.5     10	 143	      -1.561
6	1	 35	 0	      1	    2	 1	 0	      1	          0	          0	          355	   60	 382	      -1.324
                 </code>
          </pre>
        </div>
      </div>
    </div>
  </div>


<div id="ss-connect-dialog" style="display: none;"><label _msttexthash="32528795" _msthash="14">正在尝试重新连接...</label><label>&nbsp;</label></div><div id="ss-overlay" class="ss-gray-out" style="display: none;"></div></body></html>